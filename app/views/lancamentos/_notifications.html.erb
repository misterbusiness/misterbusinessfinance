<div class="panel panel-default notifications">
  <div class="panel-heading">
    <span class="badge">
        <% @count = 0 %>
        <%  @notificacoes.each do |notification_id, notification|  %>
          <% if notification.has_key?(:count) %>
            <%  @count = @count + 1 unless notification[:count] == 0 %>
          <% end %>
        <% end %>
      <%= @count %>
    </span> Notificações
  </div>
  <div class="panel-body">
    <%  @notificacoes.each do |notification_id, notification|  %>
        <% if notification.has_key?(:text) %>
            <a href="#">
            <div class="<%= notification[:class] %>">
        <% end %>

        <% if notification.has_key?(:can_close) %>
            <!--<button type="button" class="close" data-dismiss="alert" aria-hidden="true" onclick="close_notification(this)">&times;</button>-->
            <!--<a class="notification_close" onclick="close_notification(this)">&times;</a>-->
        <% end %>

        <% if notification.has_key?(:count) %>
            <span class="badge"><%= notification[:count] %></span>
        <% end %>

        <% if notification.has_key?(:filter_string) %>
            <!--<a onclick="notification_build_filter(<%= '"' + notification[:filter_string].to_s + '"' %>)">-->
            <div class="label label-default"><%= notification[:text] %></div>
            <!--</a>-->
            <% if notification.has_key?(:value) %>
                <span class="label label-default"><%= number_to_currency(notification[:value], :precision => 2, unit: "R$ ") %></span>
            <% end %>

            </div>
            </a>
        <% else %>
            <%= notification[:text] %>
            </div>
            </a>
        <% end %>
    <% end %>
    </div>
</div>