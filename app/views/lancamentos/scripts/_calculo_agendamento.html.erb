<script type="text/javascript">
    $(document).ready(function () {

        var freqRepeticoes = $("#frequencia_agendamentos");
        var freqParcelas = $("#frequencia_parcelas");

        var numeroRepeticoes = $("#numero_agendamentos");
        var numeroParcelas = $("#numero_parcelas");

        $("#frequencia_agendamentos_hidden").val(freqRepeticoes.val());
        $("#frequencia_parcelas_hidden").val(freqParcelas.val());

        $("#numero_agendamentos_hidden").val(numeroRepeticoes.val());
        $("#numero_parcelas_hidden").val(numeroParcelas.val());

        freqRepeticoes.blur(function () {
/// Calculo da parcela
            var dataVencimento = $("#datepicker").val();
            var numeroRepeticoes = $("#numero_agendamentos");
            var freqRepeticoes = $("#frequencia_agendamentos");
            var numeroParcelas = $("#numero_parcelas");
            var freqParcelas = $("#frequencia_parcelas");
            var valorRepeticao = $.fn.autoNumeric.Strip('lancamento_valor');
            var dataRepeticao = new Date();

            //alert(dataRepeticao.toDateString());

            $("#total_agendamento").text(dataRepeticao);
//        var selectedDate = new Date((new Date).getFullYear(), (new Date).getMonth(), response.diavencimento);
 /*           if (dataVencimento != null) {
                switch (freqRepeticoes) {
                    case 'Semanal':
                    {
                        dataRepeticao = new Date((dataVencimento).getFullYear(), (dataVencimento).getMonth(), (dataVencimento).getDay() + 7);
                        break;
                    }
                    case 'Mensal':
                    {
                        dataRepeticao = new Date((dataVencimento).getFullYear(), (dataVencimento).getMonth() + 1, (dataVencimento).getDay());
                        break;
                    }
                    case 'Semestral':
                    {
                        dataRepeticao = new Date((dataVencimento).getFullYear(), (dataVencimento).getMonth() + 6, (dataVencimento).getDay());
                        break;
                    }
                    case 'Anual':
                    {
                        dataRepeticao = new Date((dataVencimento).getFullYear() + 1, (dataVencimento).getMonth(), (dataVencimento).getDay());
                        break;
                    }
                    default :
                    {
                        dataRepeticao = new Date((dataVencimento).getFullYear(), (dataVencimento).getMonth(), (dataVencimento).getDay());
                        break;
                    }
                }
            }
            $("#total_agendamento").text(dataRepeticao);*/

            if (numeroRepeticoes.val() > 1) {
                numeroParcelas.prop('disabled', true);
                freqParcelas.select2('disable');

                numeroRepeticoes.prop('disabled',false);
                freqRepeticoes.select2('enable');
            }
            else {
                numeroRepeticoes.prop('disabled', false);
                freqRepeticoes.select2('enable');

                numeroParcelas.prop('disabled',false);
                freqParcelas.select2('enable');
            }

            $("#numero_agendamentos_hidden").val(numeroRepeticoes.val());
            $("#frequencia_agendamentos_hidden").val(freqRepeticoes.val());

            $("#numero_parcelas_hidden").val(numeroParcelas.val());
            $("#frequencia_parcelas_hidden").val(freqParcelas.val());
        });

        freqRepeticoes.change(function(){

            $("#frequencia_agendamentos_hidden").val(freqRepeticoes.val());
            $("#numero_agendamentos_hidden").val(numeroRepeticoes.val());
            $("#frequencia_parcelas_hidden").val(freqParcelas.val());
            $("#numero_parcelas_hidden").val(numeroParcelas.val());
        });
    });

</script>
