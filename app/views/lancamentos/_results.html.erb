<% if !@lancamentos.nil? then%>

    <table class="table table-hover table-condensed">
        <% for lancamento in @lancamentos %>
            <% @edit_row_id = "edit_lancamento_row_#{lancamento.id}" %>
            <% @edit_btn_id = "edit_lancamento_btn_#{lancamento.id}" %>
            <% @current_lancamento = lancamento %>

                <tr id="<%= @edit_row_id %>">
                  <td>                                          
                        <% if lancamento.quitado? then %>
							<input type="image" src="estornar.gif" class="estornar_button" title="Estornar" alt="Estornar" width="20" height="20">
						
						<% end %>
                        <% if lancamento.aberto? then %>

							<input type="image" src="quitar.gif" class="quitar_button" title="Quitar" alt="Quitar" width="20" height="20">
						
						<% end %>
                      
                    
                  </td>
                  <td><%= lancamento.descricao %></td>
                  <td><%= lancamento.datavencimento %></td>
                  <td><%= lancamento.dataacao %></td>

                  <td><%= if lancamento.receita? then
                            "+" + lancamento.valor.to_s
                          else
                            "-" + lancamento.valor.to_s
                          end %></td>
                  <td><%= lancamento.category.descricao unless lancamento.category.nil? %></td>
                  <td><%= lancamento.centrodecusto.descricao unless lancamento.centrodecusto.nil? %></td>
                  <td><%= lancamento.status %></td>
                  <%  @has_parcelamento_id =  "has_parcelamento_row_#{lancamento.id}" %>
                  <%  @has_agendamento_id =  "has_agendamento_row_#{lancamento.id}" %>
                  <%  @has_estorno_id =  "has_estorno_row_#{lancamento.id}" %>

                  <%= hidden_field_tag :hasParcelamento, lancamento.has_parcelamento?, :id => "has_parcelamento_row_#{lancamento.id}" %>
                  <%= hidden_field_tag :hasAgendamento, lancamento.has_agendamento?, :id => "has_agendamento_row_#{lancamento.id}" %>
                  <%= hidden_field_tag :hasEstorno, lancamento.has_estorno?, :id => "has_estorno_row_#{lancamento.id}" %>
                  <%= render 'lancamentos/scripts/edit_form' %>
                </tr>

            <% end %>
        <% if @lancamentos.count == 0 then %>
            <tr>
              <td colspan="11"> Nenhum resultado encontrado.</td>
            </tr>
        <% end %>



    </table>

    <div class="paginations"><%= will_paginate @lancamentos%></div>

<% end %>